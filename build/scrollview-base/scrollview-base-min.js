YUI.add("scrollview-base",function(d,t){var e=d.ClassNameManager.getClassName,n=d.config.doc,l=d.UA.ie,h=d.Transition.useNative,i=d.Transition._VENDOR_PREFIX,s="scrollview",c={vertical:e(s,"vert"),horizontal:e(s,"horiz")},a="flick",r="drag",o="mousewheel",f="ui",g="left",S="px",_="axis",m="scrollY",b="scrollX",v="x",u="y",A="gesturemove",x="snapDuration",D="snapEasing",E="easing",Y="frameDuration",p="bounceRange",C=function(t,e,n){return Math.min(Math.max(t,e),n)};function T(){T.superclass.constructor.apply(this,arguments)}d.ScrollView=d.extend(T,d.Widget,{_forceHWTransforms:!!d.UA.webkit,_prevent:{start:!1,move:!0,end:!1},lastScrolledAmt:0,_minScrollX:null,_maxScrollX:null,_minScrollY:null,_maxScrollY:null,initializer:function(){var t=this;t._bb=t.get("boundingBox"),t._cb=t.get("contentBox"),t._cAxis=t.get(_),t._cBounce=t.get("bounce"),t._cBounceRange=t.get(p),t._cDeceleration=t.get("deceleration"),t._cFrameDuration=t.get(Y)},bindUI:function(){var t=this;t._bindFlick(t.get(a)),t._bindDrag(t.get(r)),t._bindMousewheel(!0),t._bindAttrs(),l&&t._fixIESelect(t._bb,t._cb),T.SNAP_DURATION&&t.set(x,T.SNAP_DURATION),T.SNAP_EASING&&t.set(D,T.SNAP_EASING),T.EASING&&t.set(E,T.EASING),T.FRAME_STEP&&t.set(Y,T.FRAME_STEP),T.BOUNCE_RANGE&&t.set(p,T.BOUNCE_RANGE)},_bindAttrs:function(){var t=this,e=t._afterScrollChange,n=t._afterDimChange;t.after({scrollEnd:t._afterScrollEnd,disabledChange:t._afterDisabledChange,flickChange:t._afterFlickChange,dragChange:t._afterDragChange,axisChange:t._afterAxisChange,scrollYChange:e,scrollXChange:e,heightChange:n,widthChange:n})},_bindDrag:function(t){var e=this,n=e._bb;n.detach(r+"|*"),t&&n.on(r+"|"+A+"start",d.bind(e._onGestureMoveStart,e))},_bindFlick:function(t){var e=this,n=e._bb;n.detach(a+"|*"),t&&(n.on(a+"|"+a,d.bind(e._flick,e),t),e._bindDrag(e.get(r)))},_bindMousewheel:function(t){this._bb.detach(o+"|*"),t&&d.one(n).on(o,d.bind(this._mousewheel,this))},syncUI:function(){var t=this,e=t._getScrollDims(),n=e.offsetWidth,l=e.offsetHeight,i=e.scrollWidth,e=e.scrollHeight;t._cAxis===undefined&&(t._cAxis={x:n<i,y:l<e},t._set(_,t._cAxis)),t.rtl="rtl"===t._cb.getComputedStyle("direction"),t._cDisabled=t.get("disabled"),t._uiDimensionsChange(),t._isOutOfBounds()&&t._snapBack()},_getScrollDims:function(){var t=this,e=t._cb,n=t._bb,l=T._TRANSITION,i=t.get(b),s=t.get(m);return h&&(e.setStyle(l.DURATION,"0s"),e.setStyle(l.PROPERTY,"")),l=t._forceHWTransforms,t._forceHWTransforms=!1,t._moveTo(e,0,0),n={offsetWidth:n.get("offsetWidth"),offsetHeight:n.get("offsetHeight"),scrollWidth:n.get("scrollWidth"),scrollHeight:n.get("scrollHeight")},t._moveTo(e,-i,-s),t._forceHWTransforms=l,n},_uiDimensionsChange:function(){var t=this,e=t._bb,n=t._getScrollDims(),l=n.offsetWidth,i=n.offsetHeight,s=n.scrollWidth,n=n.scrollHeight,a=t.rtl,r=t._cAxis,o=a?Math.min(0,-(s-l)):0,a=a?0:Math.max(0,s-l),s=Math.max(0,n-i);r&&r.x&&e.addClass(c.horizontal),r&&r.y&&e.addClass(c.vertical),t._setBounds({minScrollX:o,maxScrollX:a,minScrollY:0,maxScrollY:s})},_setBounds:function(t){this._minScrollX=t.minScrollX,this._maxScrollX=t.maxScrollX,this._minScrollY=t.minScrollY,this._maxScrollY=t.maxScrollY},_getBounds:function(){return{minScrollX:this._minScrollX,maxScrollX:this._maxScrollX,minScrollY:this._minScrollY,maxScrollY:this._maxScrollY}},scrollTo:function(t,e,n,l,i){var s,a,r,o,c,_,u;this._cDisabled||(u=(s=this)._cb,a=T._TRANSITION,r=d.bind(s._onTransEnd,s),c=o=0,_={},n=n||0,l=l||s.get(E),i=i||u,null!==t&&(s.set(b,t,{src:f}),o=-t),null!==e&&(s.set(m,e,{src:f}),c=-e),u=s._transform(o,c),h&&i.setStyle(a.DURATION,"0s").setStyle(a.PROPERTY,""),0===n?h?i.setStyle("transform",u):(null!==t&&i.setStyle(g,o+S),null!==e&&i.setStyle("top",c+S)):(_.easing=l,_.duration=n/1e3,h?_.transform=u:(_.left=o+S,_.top=c+S),i.transition(_,r)))},_transform:function(t,e){t="translate("+t+"px, "+e+"px)";return this._forceHWTransforms&&(t+=" translateZ(0)"),t},_moveTo:function(t,e,n){h?t.setStyle("transform",this._transform(e,n)):(t.setStyle(g,e+S),t.setStyle("top",n+S))},_onTransEnd:function(){this._isOutOfBounds()?this._snapBack():this.fire("scrollEnd")},_onGestureMoveStart:function(t){if(this._cDisabled)return!1;var e=this,n=e._bb,l=e.get(b),i=e.get(m),s=t.clientX,a=t.clientY;e._prevent.start&&t.preventDefault(),e._flickAnim&&(e._cancelFlick(),e._onTransEnd()),e.lastScrolledAmt=0,e._gesture={axis:null,startX:l,startY:i,startClientX:s,startClientY:a,endClientX:null,endClientY:null,deltaX:null,deltaY:null,flick:null,onGestureMove:n.on(r+"|"+A,d.bind(e._onGestureMove,e)),onGestureMoveEnd:n.on(r+"|"+A+"end",d.bind(e._onGestureMoveEnd,e))}},_onGestureMove:function(t){var e=this,n=e._gesture,l=e._cAxis,i=l.x,l=l.y,s=n.startX,a=n.startY,r=n.startClientX,o=n.startClientY,c=t.clientX,_=t.clientY;e._prevent.move&&t.preventDefault(),n.deltaX=r-c,n.deltaY=o-_,null===n.axis&&(n.axis=Math.abs(n.deltaX)>Math.abs(n.deltaY)?v:u),n.axis===v&&i?e.set(b,s+n.deltaX):n.axis===u&&l&&e.set(m,a+n.deltaY)},_onGestureMoveEnd:function(t){var e=this,n=e._gesture,l=n.flick,i=t.clientX,s=t.clientY;e._prevent.end&&t.preventDefault(),n.endClientX=i,n.endClientY=s,n.onGestureMove.detach(),n.onGestureMoveEnd.detach(),l||null!==n.deltaX&&null!==n.deltaY&&(e._isOutOfBounds()?e._snapBack():e.pages&&(!e.pages||e.pages.get(_)[n.axis])||e._onTransEnd())},_flick:function(t){if(this._cDisabled)return!1;var e=this,n=e._cAxis,t=t.flick,l=t.axis,i=t.velocity,s=e.get(l===v?b:m);e._gesture&&(e._gesture.flick=t),n[l]&&e._flickFrame(i,l,s)},_flickFrame:function(t,e,n){var l=this,i=e===v?b:m,s=l._getBounds(),a=l._cBounce,r=l._cBounceRange,o=l._cDeceleration,c=l._cFrameDuration,t=t*o,o=n-c*t,n=e===v?s.minScrollX:s.minScrollY,s=e===v?s.maxScrollX:s.maxScrollY,_=o<s,u=n<o,h=o<n-r,f=s+r<o;(o<n&&n-r<o||s<o&&o<s+r)&&(t*=a),Math.abs(t).toFixed(4)<.015||h||f?(l._flickAnim&&l._cancelFlick(),u&&_?l._onTransEnd():l._snapBack()):(l._flickAnim=d.later(c,l,"_flickFrame",[t,e,o]),l.set(i,o))},_cancelFlick:function(){this._flickAnim&&(this._flickAnim.cancel(),delete this._flickAnim)},
_mousewheel:function(t){var e=this,n=e.get(m),l=e._getBounds(),i=e._bb,s=0<t.wheelDelta,n=C(n-10*(s?1:-1),l.minScrollY,l.maxScrollY);i.contains(t.target)&&e._cAxis.y&&(e.lastScrolledAmt=0,e.set(m,n),e.scrollbars&&(e.scrollbars._update(),e.scrollbars.flash()),e._onTransEnd(),t.preventDefault())},_isOutOfBounds:function(t,e){var n=this._cAxis,l=n.x,n=n.y,t=t||this.get(b),e=e||this.get(m),i=this._getBounds(),s=i.minScrollX,a=i.minScrollY,r=i.maxScrollX,i=i.maxScrollY;return l&&(t<s||r<t)||n&&(e<a||i<e)},_snapBack:function(){var t=this,e=t.get(b),n=t.get(m),l=t._getBounds(),i=l.minScrollX,s=l.minScrollY,a=l.maxScrollX,l=l.maxScrollY,s=C(n,s,l),l=C(e,i,a),i=t.get(x),a=t.get(D);l!==e?t.set(b,l,{duration:i,easing:a}):s!==n?t.set(m,s,{duration:i,easing:a}):t._onTransEnd()},_afterScrollChange:function(t){if(t.src===T.UI_SRC)return!1;var e=this,n=t.duration,l=t.easing,i=t.newVal,s=[];e.lastScrolledAmt=e.lastScrolledAmt+(t.newVal-t.prevVal),t.attrName===b?(s.push(i),s.push(e.get(m))):(s.push(e.get(b)),s.push(i)),s.push(n),s.push(l),e.scrollTo.apply(e,s)},_afterFlickChange:function(t){this._bindFlick(t.newVal)},_afterDisabledChange:function(t){this._cDisabled=t.newVal},_afterAxisChange:function(t){this._cAxis=t.newVal},_afterDragChange:function(t){this._bindDrag(t.newVal)},_afterDimChange:function(){this._uiDimensionsChange()},_afterScrollEnd:function(){this._flickAnim&&this._cancelFlick()},_axisSetter:function(t){if(d.Lang.isString(t))return{x:!!t.match(/x/i),y:!!t.match(/y/i)}},_setScroll:function(t){return t=this._cDisabled?d.Attribute.INVALID_VALUE:t},_setScrollX:function(t){return this._setScroll(t,v)},_setScrollY:function(t){return this._setScroll(t,u)}},{NAME:"scrollview",ATTRS:{axis:{setter:"_axisSetter",writeOnce:"initOnly"},scrollX:{value:0,setter:"_setScrollX"},scrollY:{value:0,setter:"_setScrollY"},deceleration:{value:.93},bounce:{value:.1},flick:{value:{minDistance:10,minVelocity:.3}},drag:{value:!0},snapDuration:{value:400},snapEasing:{value:"ease-out"},easing:{value:"cubic-bezier(0, 0.1, 0, 1.0)"},frameDuration:{value:15},bounceRange:{value:150}},CLASS_NAMES:c,UI_SRC:f,_TRANSITION:{DURATION:i?i+"TransitionDuration":"transitionDuration",PROPERTY:i?i+"TransitionProperty":"transitionProperty"},BOUNCE_RANGE:!1,FRAME_STEP:!1,EASING:!1,SNAP_EASING:!1,SNAP_DURATION:!1})},"@VERSION@",{requires:["widget","event-gestures","event-mousewheel","transition"],skinnable:!0});
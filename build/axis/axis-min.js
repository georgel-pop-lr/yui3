YUI.add("axis",function(r,t){var e,i,a,f=r.config.doc,g=r.Lang,s=g.isString,c=r.DOM,l=function(){};l.prototype={_getDefaultMargins:function(){return{top:0,left:0,right:4,bottom:0}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,e=e.display;switch(t.set("topTickOffset",0),t.set("bottomTickOffset",0),e){case"inside":t.set("rightTickOffset",i),t.set("leftTickOffset",0);break;case"outside":t.set("rightTickOffset",0),t.set("leftTickOffset",i);break;case"cross":t.set("rightTickOffset",a),t.set("leftTickOffset",a);break;default:t.set("rightTickOffset",0),t.set("leftTickOffset",0)}},drawTick:function(t,e,i){var a=this.get("styles").padding,i=i.length,s={x:a.left,y:e.y},i={x:i+a.left,y:e.y};this.drawLine(t,s,i)},getLineStart:function(){var t=this.get("styles"),e=t.padding,t=t.majorTicks,i=t.length,t=t.display,e={x:e.left,y:0};return"outside"===t?e.x+=i:"cross"===t&&(e.x+=i/2),e},getLabelPoint:function(t){return{x:t.x-this.get("leftTickOffset"),y:t.y}},updateMaxLabelSize:function(t,e){var i=this._labelRotationProps,a=i.rot,s=i.absRot,l=i.sinRadians,i=i.cosRadians,a=0===a?t:90===s?e:i*t+l*e;this._maxLabelSize=Math.max(this._maxLabelSize,a)},getExplicitlySized:function(t){var e,i,a,s;return!!this._explicitWidth&&(i=(e=this)._explicitWidth,a=e._totalTitleSize,s=e.get("leftTickOffset"),t=t.label.margin.right,e._maxLabelSize=i-(s+t+a),!0)},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,i=i.right-i.left,l=t.offsetWidth,n=t.offsetHeight,i=-.5*l+.5*i,o=.5*e.get("height")-.5*n;s.labelWidth=l,s.labelHeight=n,a&&a.left&&(i+=a.left),s.x=i,s.y=o,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var i=parseFloat(i.label.offset),s=this.get("leftTickOffset"),l=this._totalTitleSize,l=e.x+l-s,s=e.y,e=this._labelRotationProps,n=e.rot,o=e.absRot,h=this._maxLabelSize,r=this._labelWidths[a],a=this._labelHeights[a];0===n?(l-=r,s-=a*i):90===n?(l-=.5*r,s=s+r/2-r*i):-90===n?(l-=.5*r,s=s-a+r/2-r*i):(l-=r+a*o/360,s-=a*i),e.labelWidth=r,e.labelHeight=a,e.x=Math.round(h+l),e.y=Math.round(s),this._rotate(t,e)},_setRotationCoords:function(t){var e,i,a=t.rot,s=t.absRot,l=t.labelWidth,n=t.labelHeight;0===a?(e=l,i=.5*n):90===a?(i=0,e=.5*l):i=-90===a?(e=.5*l,n):(e=l+n*s/360,.5*n),t.x-=e,t.y-=i},_getTransformOrigin:function(t){t=0===t?[0,0]:90===t?[.5,0]:-90===t?[.5,1]:[1,.5];return t},offsetNodeForTick:function(){},setCalculatedSize:function(){var t=this.get("graphic"),e=this.get("styles").label,i=this.get("leftTickOffset"),a=this._maxLabelSize,s=this._totalTitleSize,s=Math.round(s+i+a+e.margin.right);this._explicitWidth&&(s=this._explicitWidth),this.set("calculatedWidth",s),t.set("x",s-i)}},r.LeftAxisLayout=l,(e=function(){}).prototype={_getDefaultMargins:function(){return{top:0,left:4,right:0,bottom:0}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,e=e.display;switch(t.set("topTickOffset",0),t.set("bottomTickOffset",0),e){case"inside":t.set("leftTickOffset",i),t.set("rightTickOffset",0);break;case"outside":t.set("leftTickOffset",0),t.set("rightTickOffset",i);break;case"cross":t.set("rightTickOffset",a),t.set("leftTickOffset",a);break;default:t.set("leftTickOffset",0),t.set("rightTickOffset",0)}},drawTick:function(t,e,i){var a=this.get("styles").padding,i=i.length,s={x:a.left,y:e.y},a={x:a.left+i,y:e.y};this.drawLine(t,s,a)},getLineStart:function(){var t=this.get("styles"),e=t.padding,t=t.majorTicks,i=t.length,t=t.display,e={x:e.left,y:e.top};return"inside"===t?e.x+=i:"cross"===t&&(e.x+=i/2),e},getLabelPoint:function(t){return{x:t.x+this.get("rightTickOffset"),y:t.y}},updateMaxLabelSize:function(t,e){var i=this._labelRotationProps,a=i.rot,s=i.absRot,l=i.sinRadians,i=i.cosRadians,a=0===a?t:90===s?e:i*t+l*e;this._maxLabelSize=Math.max(this._maxLabelSize,a)},getExplicitlySized:function(t){var e,i,a;return!!this._explicitWidth&&(e=this._explicitWidth,i=this._totalTitleSize,a=this.get("rightTickOffset"),t=t.label.margin.right,this._maxLabelSize=e-(a+t+i),!0)},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,l=t.offsetWidth,n=t.offsetHeight,i=i.right-i.left,i=this.get("width")-.5*l-.5*i,o=.5*e.get("height")-.5*n;s.labelWidth=l,s.labelHeight=n,a&&a.right&&(i-=a.left),s.x=i,s.y=o,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=parseFloat(i.label.offset),l=this.get("rightTickOffset"),i=i.label,n=0,o=e.x,e=e.y,h=this._labelRotationProps,r=h.rot,f=h.absRot,g=this._labelWidths[a],a=this._labelHeights[a];0===r?e-=a*s:90===r?(o-=.5*g,e=e-a+g/2-g*s):-90===r?(e=e+g/2-g*s,o-=.5*g):(e-=a*s,o+=a/2*f/90),o=o+(n=i.margin&&i.margin.left?i.margin.left:n)+l,h.labelWidth=g,h.labelHeight=a,h.x=Math.round(o),h.y=Math.round(e),this._rotate(t,h)},_setRotationCoords:function(t){var e=t.rot,i=t.absRot,a=0,s=0,l=t.labelWidth,n=t.labelHeight;0===e?s=.5*n:90===e?(a=.5*l,s=n):a=-90===e?.5*l:(s=.5*n,n/2*i/90),t.x-=a,t.y-=s},_getTransformOrigin:function(t){t=0===t?[0,0]:90===t?[.5,1]:-90===t?[.5,0]:[0,.5];return t},offsetNodeForTick:function(t){var e=this.get("leftTickOffset");t.setStyle("left",0-e)},setCalculatedSize:function(){var t=this,e=t.get("styles").label,i=this._totalTitleSize,i=Math.round(t.get("rightTickOffset")+t._maxLabelSize+i+e.margin.left);this._explicitWidth&&(i=this._explicitWidth),t.set("calculatedWidth",i),t.get("contentBox").setStyle("width",i)}},r.RightAxisLayout=e,(i=function(){}).prototype={_getDefaultMargins:function(){return{top:4,left:0,right:0,bottom:0}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,e=e.display;switch(t.set("leftTickOffset",0),t.set("rightTickOffset",0),e){case"inside":t.set("topTickOffset",i),t.set("bottomTickOffset",0);break;case"outside":t.set("topTickOffset",0),t.set("bottomTickOffset",i);break;case"cross":t.set("topTickOffset",a),t.set("bottomTickOffset",a);break;default:t.set("topTickOffset",0),t.set("bottomTickOffset",0)}},
getLineStart:function(){var t=this.get("styles"),e=t.padding,t=t.majorTicks,i=t.length,t=t.display,e={x:0,y:e.top};return"inside"===t?e.y+=i:"cross"===t&&(e.y+=i/2),e},drawTick:function(t,e,i){var a=this.get("styles").padding,i=i.length,s={x:e.x,y:a.top},e={x:e.x,y:i+a.top};this.drawLine(t,s,e)},getLabelPoint:function(t){return{x:t.x,y:t.y+this.get("bottomTickOffset")}},updateMaxLabelSize:function(t,e){var i=this._labelRotationProps,a=i.rot,s=i.absRot,l=i.sinRadians,i=i.cosRadians,a=0===a?e:90===s?t:l*t+i*e;this._maxLabelSize=Math.max(this._maxLabelSize,a)},getExplicitlySized:function(t){var e,i,a;return!!this._explicitHeight&&(e=this._explicitHeight,i=this._totalTitleSize,a=this.get("bottomTickOffset"),t=t.label.margin.right,this._maxLabelSize=e-(a+t+i),!0)},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,i=i.bottom-i.top,l=t.offsetWidth,n=t.offsetHeight,o=.5*e.get("width")-.5*l,i=e.get("height")-n/2-i/2;s.labelWidth=l,s.labelHeight=n,a&&a.bottom&&(i-=a.bottom),s.x=o,s.y=i,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=this,l=parseFloat(i.label.offset),n=s.get("bottomTickOffset"),i=i.label,o=0,h=s._labelRotationProps,r=h.rot,f=h.absRot,g=Math.round(e.x),e=Math.round(e.y),c=s._labelWidths[a],a=s._labelHeights[a];90===r?(e-=a/2*r/90,g=g+a/2-a*l):-90===r?(e-=a/2*f/90,g=g-c+a/2-a*l):0<r?(g=g+a/2-a*l,e-=a/2*r/90):r<0?(g=g-c+a/2-a*l,e-=a/2*f/90):g-=c*l,e=e+(o=i.margin&&i.margin.top?i.margin.top:o)+n,h.labelWidth=c,h.labelHeight=a,h.x=g,h.y=e,s._rotate(t,h)},_setRotationCoords:function(t){var e,i=t.rot,a=t.absRot,s=t.labelWidth,l=t.labelHeight,i=0<i?(e=0,l/2*i/90):i<0?(e=s,l/2*a/90):(e=.5*s,0);t.x-=e,t.y-=i},_getTransformOrigin:function(t){t=0<t?[0,.5]:t<0?[1,.5]:[0,0];return t},offsetNodeForTick:function(t){t.setStyle("top",0-this.get("topTickOffset"))},setCalculatedSize:function(){var t=this,e=t.get("styles").label,i=t._totalTitleSize,e=Math.round(t.get("bottomTickOffset")+t._maxLabelSize+e.margin.top+i);t._explicitHeight&&(e=t._explicitHeight),t.set("calculatedHeight",e)}},r.BottomAxisLayout=i,(a=function(){}).prototype={_getDefaultMargins:function(){return{top:0,left:0,right:0,bottom:4}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,e=e.display;switch(t.set("leftTickOffset",0),t.set("rightTickOffset",0),e){case"inside":t.set("bottomTickOffset",i),t.set("topTickOffset",0);break;case"outside":t.set("bottomTickOffset",0),t.set("topTickOffset",i);break;case"cross":t.set("topTickOffset",a),t.set("bottomTickOffset",a);break;default:t.set("topTickOffset",0),t.set("bottomTickOffset",0)}},getLineStart:function(){var t=this.get("styles"),e=t.padding,t=t.majorTicks,i=t.length,t=t.display,e={x:0,y:e.top};return"outside"===t?e.y+=i:"cross"===t&&(e.y+=i/2),e},drawTick:function(t,e,i){var a=this.get("styles").padding,i=i.length,s={x:e.x,y:a.top},e={x:e.x,y:i+a.top};this.drawLine(t,s,e)},getLabelPoint:function(t){return{x:t.x,y:t.y-this.get("topTickOffset")}},updateMaxLabelSize:function(t,e){var i=this._labelRotationProps,a=i.rot,s=i.absRot,l=i.sinRadians,i=i.cosRadians,a=0===a?e:90===s?t:l*t+i*e;this._maxLabelSize=Math.max(this._maxLabelSize,a)},getExplicitlySized:function(t){var e,i,a;return!!this._explicitHeight&&(e=this._explicitHeight,i=this._totalTitleSize,a=this.get("topTickOffset"),t=t.label.margin.right,this._maxLabelSize=e-(a+t+i),!0)},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,l=t.offsetWidth,n=t.offsetHeight,i=i.bottom-i.top,o=.5*e.get("width")-.5*l,i=i/2-n/2;s.labelWidth=l,s.labelHeight=n,a&&a.top&&(i+=a.top),s.x=o,s.y=i,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var i=parseFloat(i.label.offset),s=this._totalTitleSize,l=this._maxLabelSize,n=e.x,e=e.y+s+l,s=this._labelRotationProps,l=s.rot,o=s.absRot,h=this._labelWidths[a],a=this._labelHeights[a];0===l?(n-=h*i,e-=a):90===l?(n=n-h+a/2-a*i,e-=.5*a):-90===l?(n=n+a/2-a*i,e-=.5*a):0<l?(n=n-h+a/2-a*i,e-=a-a*l/180):(n=n+a/2-a*i,e-=a-a*o/180),s.x=Math.round(n),s.y=Math.round(e),s.labelWidth=h,s.labelHeight=a,this._rotate(t,s)},_setRotationCoords:function(t){var e,i=t.rot,a=t.absRot,s=t.labelWidth,l=t.labelHeight,s=0===i?(e=.5*s,l):90===i?(e=s,.5*l):-90===i?.5*l:0<i?(e=s,l-l*i/180):l-l*a/180;t.x-=e,t.y-=s},_getTransformOrigin:function(t){t=0===t?[0,0]:90===t||-90!==t&&0<t?[1,.5]:[0,.5];return t},offsetNodeForTick:function(){},setCalculatedSize:function(){var t=this,e=t.get("graphic"),i=t.get("styles").label.margin.bottom+t._maxLabelSize,a=t._totalTitleSize,s=this.get("topTickOffset"),i=Math.round(s+i+a);this._explicitHeight&&(i=this._explicitHeight),t.set("calculatedHeight",i),e.set("y",i-s)}},r.TopAxisLayout=a,r.Axis=r.Base.create("axis",r.Widget,[r.AxisBase],{getLabelByIndex:function(t,e){var i=this.get("position");return this._getLabelByIndex(t,e,"left"===i||"right"===i?"vertical":"horizontal")},bindUI:function(){this.after("dataReady",r.bind(this._dataChangeHandler,this)),this.after("dataUpdate",r.bind(this._dataChangeHandler,this)),this.after("stylesChange",this._updateHandler),this.after("overlapGraphChange",this._updateHandler),this.after("positionChange",this._positionChangeHandler),this.after("widthChange",this._handleSizeChange),this.after("heightChange",this._handleSizeChange),this.after("calculatedWidthChange",this._handleSizeChange),this.after("calculatedHeightChange",this._handleSizeChange)},_calculatedWidth:0,_calculatedHeight:0,_dataChangeHandler:function(){this.get("rendered")&&this._drawAxis()},_positionChangeHandler:function(t){this._updateGraphic(t.newVal),this._updateHandler()},_updateGraphic:function(t){var e=this.get("graphic");"none"===t?e&&e.destroy():e||this._setCanvas()},_updateHandler:function(){this.get("rendered")&&this._drawAxis()},renderUI:function(){this._updateGraphic(this.get("position"))},syncUI:function(){var t,e,i,a,s=this._layout;if(s)for(a in t=s._getDefaultMargins(),e=(s=this.get(
"styles")).label.margin,i=s.title.margin,t)t.hasOwnProperty(a)&&(e[a]=(e[a]===undefined?t:e)[a],i[a]=(i[a]===undefined?t:i)[a]);this._drawAxis()},_setCanvas:function(){var t=this.get("contentBox"),e=this.get("boundingBox"),i=this.get("position"),a=this._parentNode,s=this.get("width"),l=this.get("height");e.setStyle("position","absolute"),e.setStyle("zIndex",2),s=s?s+"px":a.getStyle("width"),l=l?l+"px":a.getStyle("height"),"top"===i||"bottom"===i?t.setStyle("width",s):t.setStyle("height",l),t.setStyle("position","relative"),t.setStyle("left","0px"),t.setStyle("top","0px"),this.set("graphic",new r.Graphic),this.get("graphic").render(t)},_getDefaultStyles:function(){var t={majorTicks:{display:"inside",length:4,color:"#dad8c9",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#dad8c9",weight:1},line:{weight:1,color:"#dad8c9",alpha:1},majorUnit:{determinant:"count",count:11,distance:75},top:"0px",left:"0px",width:"100px",height:"100px",label:{color:"#808080",alpha:1,fontSize:"85%",rotation:0,offset:.5,margin:{top:undefined,right:undefined,bottom:undefined,left:undefined}},title:{color:"#808080",alpha:1,fontSize:"85%",rotation:undefined,margin:{top:undefined,right:undefined,bottom:undefined,left:undefined}},hideOverlappingLabelTicks:!1};return r.merge(r.Renderer.prototype._getDefaultStyles(),t)},_handleSizeChange:function(t){var t=t.attrName,e=this.get("position"),i="left"===e||"right"===e,a=this.get("contentBox"),e="bottom"===e||"top"===e;a.setStyle("width",this.get("width")),a.setStyle("height",this.get("height")),(e&&"width"===t||i&&"height"===t)&&this._drawAxis()},_layoutClasses:{top:a,bottom:i,left:l,right:e},drawLine:function(t,e,i){t.moveTo(e.x,e.y),t.lineTo(i.x,i.y)},_getTextRotationProps:function(t){if(t.rotation===undefined)switch(this.get("position")){case"left":t.rotation=-90;break;case"right":t.rotation=90;break;default:t.rotation=0}var e=Math.min(90,Math.max(-90,t.rotation)),i=Math.abs(e),a=Math.PI/180;return{rot:e,absRot:i,radCon:a,sinRadians:parseFloat(parseFloat(Math.sin(i*a)).toFixed(8)),cosRadians:parseFloat(parseFloat(Math.cos(i*a)).toFixed(8)),textAlpha:t.alpha}},_drawAxis:function(){if(this._drawing)this._callLater=!0;else{if(this._drawing=!0,this._callLater=!1,this._layout){var t,e,i,a,s,l,n,o,h,r,f,g,c,d=this.get("styles"),u=d.line,p=d.label,b=d.majorTicks,_="none"!==b.display,y=0,x=this._layout,m=this.get("labelFunction"),T=this.get("labelFunctionScope"),k=this.get("labelFormat"),O=this.get("graphic"),v=this.get("path"),S=this.get("position"),L=this._labelValuesExplicitlySet?this.get("labelValues"):null,S="left"===S||"right"===S?"vertical":"horizontal";if(this._labelWidths=[],this._labelHeights=[],O.set("autoDraw",!1),v.clear(),v.set("stroke",{weight:u.weight,color:u.color,opacity:u.alpha}),this._labelRotationProps=this._getTextRotationProps(p),this._labelRotationProps.transformOrigin=x._getTransformOrigin(this._labelRotationProps.rot),x.setTickOffsets.apply(this),O=this.getLength(),t=this.getTotalMajorUnits(),u=this.getEdgeOffset(t,O),this.set("edgeOffset",u),e=x.getLineStart.apply(this),S="vertical"==S?(c="x","y"):(c="y","x"),o=(c=this._getLabelData(e[c],c,S,this.get("minimum"),this.get("maximum"),u,O-u-u,t,L)).points,n=c.values,t=o.length,this._labelValuesExplicitlySet||this.set("labelValues",n,{src:"internal"}),this.get("hideFirstMajorUnit")&&(h=o.shift(),f=n.shift(),t-=1),this.get("hideLastMajorUnit")&&(r=o.pop(),g=n.pop(),t-=1),t<1)this._clearLabelCache();else{if(this.drawLine(v,e,this.getLineEnd(e)),_)for((s=this.get("tickPath")).clear(),s.set("stroke",{weight:b.weight,color:b.color,opacity:b.alpha}),y=0;y<t;y+=1)o[y]&&x.drawTick.apply(this,[s,o[y],b]);for(this._createLabelCache(),this._maxLabelSize=0,this._totalTitleSize=0,this._titleSize=0,this._setTitle(),l=x.getExplicitlySized.apply(this,[d]),y=0;y<t;y+=1)o[y]&&(a=this.getLabel(p),this._labels.push(a),this.get("appendLabelFunction")(a,m.apply(T,[n[y],k])),i=Math.round(a.offsetWidth),a=Math.round(a.offsetHeight),l||this._layout.updateMaxLabelSize.apply(this,[i,a]),this._labelWidths.push(i),this._labelHeights.push(a));for(this._clearLabelCache(),this.get("overlapGraph")&&x.offsetNodeForTick.apply(this,[this.get("contentBox")]),x.setCalculatedSize.apply(this),this._titleTextField&&this._layout.positionTitle.apply(this,[this._titleTextField]),t=this._labels.length,y=0;y<t;++y)x.positionLabel.apply(this,[this.get("labels")[y],o[y],d,y]);h&&o.unshift(h),r&&o.push(r),f&&n.unshift(f),g&&n.push(g),this._tickPoints=o}}this._drawing=!1,this._callLater?this._drawAxis():(this._updatePathElement(),this.fire("axisRendered"))}},_setTotalTitleSize:function(t){var e,i=this._titleTextField,a=i.offsetWidth,i=i.offsetHeight,s=this._titleRotationProps.rot,t=t.margin,l=this.get("position"),n=new r.Matrix;n.rotate(s),s=n.getContentRect(a,i),"left"===l||"right"===l?(e=s.right-s.left,t&&(e+=t.left+t.right)):(e=s.bottom-s.top,t&&(e+=t.top+t.bottom)),this._titleBounds=s,this._totalTitleSize=e},_updatePathElement:function(){var t=this._path,e=this._tickPath,i=!1,a=this.get("graphic");t&&(i=!0,t.end()),e&&(i=!0,e.end()),i&&a._redraw()},_setTitle:function(){var t,e,i,a=this.get("title"),s=this._titleTextField;if(null!==a&&a!==undefined){for(t in i={rotation:"rotation",margin:"margin",alpha:"alpha"},e=this.get("styles").title,s?f.createElementNS||s.style.filter&&(s.style.filter=null):((s=f.createElement("span")).style.display="block",s.style.whiteSpace="nowrap",s.setAttribute("class","axisTitle"),this.get("contentBox").append(s)),s.style.position="absolute",e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(s.style[t]=e[t]);this.get("appendTitleFunction")(s,a),this._titleTextField=s,this._titleRotationProps=this._getTextRotationProps(e),this._setTotalTitleSize(e)}else s&&((a=s.parentNode)&&a.removeChild(s),this._titleTextField=null,this._totalTitleSize=0)},getLabel:function(t){var e,i,a=this._labelCache,s={rotation:"rotation",margin:"margin",alpha:"alpha"};for(e in a&&0<a.length?i=a.shift():((i=f.createElement("span")
).className=r.Lang.trim([i.className,"axisLabel"].join(" ")),this.get("contentBox").append(i)),f.createElementNS||i.style.filter&&(i.style.filter=null),i.style.display="block",i.style.whiteSpace="nowrap",i.style.position="absolute",t)t.hasOwnProperty(e)&&!s.hasOwnProperty(e)&&(i.style[e]=t[e]);return i},_createLabelCache:function(){if(this._labels)for(;0<this._labels.length;)this._labelCache.push(this._labels.shift());else this._clearLabelCache();this._labels=[]},_clearLabelCache:function(){if(this._labelCache)for(var t,e=this._labelCache.length,i=0;i<e;++i)t=this._labelCache[i],this._removeChildren(t),r.Event.purgeElement(t,!0),t.parentNode.removeChild(t);this._labelCache=[]},getLineEnd:function(t){var e=this.get("width"),i=this.get("height"),a=this.get("position");return"top"===a||"bottom"===a?{x:e,y:t.y}:{x:t.x,y:i}},getLength:function(){var t=this.get("styles").padding,e=this.get("width"),i=this.get("height"),a=this.get("position"),a="top"===a||"bottom"===a?e-(t.left+t.right):i-(t.top+t.bottom);return a},getFirstPoint:function(t){var e=this.get("styles"),i=this.get("position"),e=e.padding,t={x:t.x,y:t.y};return"top"===i||"bottom"===i?t.x+=e.left+this.get("edgeOffset"):t.y+=this.get("height")-(e.top+this.get("edgeOffset")),t},_rotate:function(t,e){var i,a,s=e.rot,l=e.x,n=e.y,o=new r.Matrix,h=e.transformOrigin||[0,0];f.createElementNS?(o.translate(l,n),o.rotate(s),c.setStyle(t,"transformOrigin",100*h[0]+"% "+100*h[1]+"%"),c.setStyle(t,"transform",o.toCSSText())):(a=e.textAlpha,g.isNumber(a)&&a<1&&-1<a&&!isNaN(a)&&(i="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(100*a)+")"),0!==s?(o.rotate(s),a=o.getContentRect(e.labelWidth,e.labelHeight),o.init(),o.translate(a.left,a.top),o.translate(l,n),this._simulateRotateWithTransformOrigin(o,s,h,e.labelWidth,e.labelHeight),i?i+=" ":i="",i+=o.toFilterText(),t.style.left=o.dx+"px",t.style.top=o.dy+"px"):(t.style.left=l+"px",t.style.top=n+"px"),i&&(t.style.filter=i))},_simulateRotateWithTransformOrigin:function(t,e,i,a,s){a=i[0]*a,i=i[1]*s,a=isNaN(a)?0:a,i=isNaN(i)?0:i;t.translate(a,i),t.rotate(e),t.translate(-a,-i)},getMaxLabelBounds:function(){return this._getLabelBounds(this.getMaximumValue())},getMinLabelBounds:function(){return this._getLabelBounds(this.getMinimumValue())},_getLabelBounds:function(t){var e=this._layout,i=this.get("styles").label,a=new r.Matrix,s=this._getTextRotationProps(i);return s.transformOrigin=e._getTransformOrigin(s.rot),i=this.getLabel(i),this.get("appendLabelFunction")(i,this.get("labelFunction").apply(this,[t,this.get("labelFormat")])),s.labelWidth=i.offsetWidth,s.labelHeight=i.offsetHeight,this._removeChildren(i),r.Event.purgeElement(i,!0),i.parentNode.removeChild(i),s.x=0,s.y=0,e._setRotationCoords(s),a.translate(s.x,s.y),this._simulateRotateWithTransformOrigin(a,s.rot,s.transformOrigin,s.labelWidth,s.labelHeight),a.getContentRect(s.labelWidth,s.labelHeight)},_removeChildren:function(t){if(t.hasChildNodes())for(var e;t.firstChild;)e=t.firstChild,this._removeChildren(e),t.removeChild(e)},destructor:function(){var t,e=this.get("contentBox").getDOMNode(),i=this.get("labels"),a=this.get("graphic");if(0<(i?i.length:0))for(;0<i.length;)t=i.shift(),this._removeChildren(t),e.removeChild(t),0;a&&a.destroy()},_maxLabelSize:0,_setText:function(t,e){t.innerHTML="",g.isNumber(e)?e+="":e=e||"",s(e)&&(e=f.createTextNode(e)),t.appendChild(e)},getTotalMajorUnits:function(){var t,e=this.get("styles").majorUnit;return"count"===e.determinant?t=e.count:"distance"===e.determinant&&(t=this.getLength()/e.distance+1),t},getMajorUnitDistance:function(t,e,i){var a;return"count"===i.determinant?(this.get("calculateEdgeOffset")||(t-=1),a=e/t):"distance"===i.determinant&&(a=i.distance),a},_hasDataOverflow:function(){return!(!this.get("setMin")&&!this.get("setMax"))},getMinimumValue:function(){return this.get("minimum")},getMaximumValue:function(){return this.get("maximum")}},{ATTRS:{width:{lazyAdd:!1,getter:function(){return this._explicitWidth||this._calculatedWidth},setter:function(t){return this._explicitWidth=t}},height:{lazyAdd:!1,getter:function(){return this._explicitHeight||this._calculatedHeight},setter:function(t){return this._explicitHeight=t}},calculatedWidth:{getter:function(){return this._calculatedWidth},setter:function(t){return this._calculatedWidth=t}},calculatedHeight:{getter:function(){return this._calculatedHeight},setter:function(t){return this._calculatedHeight=t}},edgeOffset:{value:0},graphic:{},path:{readOnly:!0,getter:function(){var t;return this._path||(t=this.get("graphic"))&&(this._path=t.addShape({type:"path"})),this._path}},tickPath:{readOnly:!0,getter:function(){var t;return this._tickPath||(t=this.get("graphic"))&&(this._tickPath=t.addShape({type:"path"})),this._tickPath}},node:{},position:{lazyAdd:!1,setter:function(t){var e=this._layoutClasses[t];return t&&"none"!==t&&(this._layout=new e),t}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},labels:{readOnly:!0,getter:function(){return this._labels}},tickPoints:{readOnly:!0,getter:function(){return"none"===this.get("position")?this.get("styles").majorUnit.count:this._tickPoints}},overlapGraph:{value:!0,validator:function(t){return g.isBoolean(t)}},maxLabelSize:{getter:function(){return this._maxLabelSize},setter:function(t){return this._maxLabelSize=t}},title:{value:null},appendLabelFunction:{valueFn:function(){return this._setText}},appendTitleFunction:{valueFn:function(){return this._setText}},labelValues:{lazyAdd:!1,setter:function(t){var e=arguments[2];return!t||e&&e.src&&"internal"===e.src?this._labelValuesExplicitlySet=!1:this._labelValuesExplicitlySet=!0,t}},hideFirstMajorUnit:{value:!1},hideLastMajorUnit:{value:!1}}}),r.AxisType=r.Base.create("baseAxis",r.Axis,[],{})},"@VERSION@",{requires:["dom","widget","widget-position","widget-stack","graphics","axis-base"]});
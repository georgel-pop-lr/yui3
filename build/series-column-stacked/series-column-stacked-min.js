YUI.add("series-column-stacked",function(t,e){var C=t.Lang;t.StackedColumnSeries=t.Base.create("stackedColumnSeries",t.ColumnSeries,[t.StackingUtil],{drawSeries:function(){if(!(this.get("xcoords").length<1)){var t,e,i,r,s,o=C.isNumber,l=this._copyObject(this.get("styles").marker),h=l.width,a=l.height,g=this.get("xcoords"),c=this.get("ycoords"),n=0,d=g.length,u=c[0],m=this.get("seriesTypeCollection"),b=this.get("order"),_=this.get("graphOrder"),p=0===b,f=d*h,k={width:[],height:[]},O=[],y=[],v=this.get("groupMarkers");for(C.isArray(l.fill.color)&&(e=l.fill.color.concat()),C.isArray(l.border.color)&&(i=l.border.color.concat()),this._createMarkerCache(),f>this.get("width")&&(h*=this.get("width")/f,h=Math.max(h,1)),p?(r=[],s=[]):(r=(f=m[b-1]).get("negativeBaseValues"),s=f.get("positiveBaseValues"),r&&s||(p=!0,s=[],r=[])),this.set("negativeBaseValues",r),this.set("positiveBaseValues",s),n=0;n<d;++n)t=g[n],o(u=c[n])&&o(t)?(p?(a=Math.abs(this._bottomOrigin-u),u<this._bottomOrigin?(s[n]=u,r[n]=this._bottomOrigin):u>this._bottomOrigin?(s[n]=this._bottomOrigin,r[n]=u,u-=a):(s[n]=u,r[n]=u)):u>this._bottomOrigin?(a=(u+=r[n]-this._bottomOrigin)-r[n],r[n]=u,u-=a):u<=this._bottomOrigin&&(u=s[n]-(this._bottomOrigin-u),a=s[n]-u,s[n]=u),!isNaN(a)&&0<a?(t-=h/2,v?(k.width[n]=h,k.height[n]=a,O.push(t),y.push(u)):(l.width=h,l.height=a,l.x=t,l.y=u,e&&(l.fill.color=e[n%e.length]),i&&(l.border.color=i[n%i.length]),this.getMarker(l,_,n))):v||this._markers.push(null)):(p&&(r[n]=this._bottomOrigin,s[n]=this._bottomOrigin),this._markers.push(null));v?this._createGroupMarker({fill:l.fill,border:l.border,dimensions:k,xvalues:O,yvalues:y,shape:l.shape}):this._clearMarkerCache()}},updateMarkerState:function(t,e){var i,r,s,o;this._markers&&this._markers[e]&&(t=this._getState(t),r=this.get("xcoords"),i=this._markers[e],o=0,o=.5*(s=this.get("styles").marker).width,(t="off"!==t&&s[t]?this._copyObject(s[t]):this._copyObject(s)).height=i.get("height"),t.x=r[e]-o,t.y=i.get("y"),t.id=i.get("id"),s=t.fill.color,r=t.border.color,C.isArray(s)?t.fill.color=s[e%s.length]:t.fill.color=this._getItemColor(t.fill.color,e),C.isArray(r)?t.border.color=r[e%r.length]:t.border.color=this._getItemColor(t.border.color,e),i.set(t))},_getPlotDefaults:function(){var t={fill:{type:"solid",alpha:1,colors:null,alphas:null,ratios:null},border:{weight:0,alpha:1},width:24,height:24,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};return t.fill.color=this._getDefaultColor(this.get("graphOrder"),"fill"),t.border.color=this._getDefaultColor(this.get("graphOrder"),"border"),t}},{ATTRS:{type:{value:"stackedColumn"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}}})},"@VERSION@",{requires:["series-stacked","series-column"]});